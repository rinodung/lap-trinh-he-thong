This directory is used to construct Verilog versions of Y86-64
processors.

A simulation file is constructed by combining several Verilog files,
generating control logic from the processor's HCL description, and
generating the program bytes using the yas assembler.  The
construction is done using the Perl script 'gen-sim.pl'.

The code has been tested using the publicly available Icarus Verilog
simulator.  See http://icarus.com/eda/verilog/ for more information.

The Makefile has rules for constructing a simulator from a .ys file, and
for executing the compiled form generated by Icarus Verilog.

The script 'test-sim.pl' compares the simulation of a Verilog model
with the results produced by an instruction-set level simulator,
making sure they get the same results for the registers, the condition
codes, and the exit code.  It does not check the memory states.

A synthesizable version of a processor can be constructed using the
program 'gen-synth.pl'.  This script merges a description of the basic
modules, a description of the processor stages, and code generated
from the HCL description of the control logic.

Installation instructions:

* Connect to the parent directory and execute "make".
* Connect to ../misc and execute "make hcl2v".
* Run the script ./gen-synth.pl -H ../pipe/pipe-std.hcl

This will generate a file pipe-synth.v.  Run ./gen-synth.pl -h to see
the possible command line arguments

FILES:

components/combram.v
components/synchram.v
	Two different implementations of the RAM module used to implement
	each bank of the memory (eight 8-bit wide RAMs are used).
	combram.v matches the description in the book: writes are clocked,
		but reads occur combinationally.
	synchram.v is more suitable for implementing with standard RAM arrays.
		Both reads & writes are clocked.  This version only works
		with the PIPE processor.

components/blocks.v: The building blocks for the processors.
	Implements all of the blocks shown as shaded blue boxes in
	Figs. 4.23, 4.40, and 4.52

components/controller.v: A simple controller to operate the processor model
	Used in the simulation model, but not in the synthesizable version

components/seq-proc.v: Processor model for SEQ
components/seq+-proc.v: Processor model for SEQ+
components/pipe-proc.v: Processor model for PIPE

gen-sim.pl: Perl script to generate simulator
gen-synth.pl: Perl script to generate synthesizable model
test-sim.pl: Perl script to generate and test simulator based on ISA
	model.  Relies on Icarus Verilog.
